{
  "name": "mail",
  "rules": {
    "message": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "headers"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "_line_break"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "emailbody"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "footer"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "headers": {
      "type": "REPEAT1",
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "CHOICE",
            "members": [
              {
                "type": "SYMBOL",
                "name": "addressheader"
              },
              {
                "type": "SYMBOL",
                "name": "dateheader"
              },
              {
                "type": "SYMBOL",
                "name": "subjectheader"
              },
              {
                "type": "SYMBOL",
                "name": "midheader"
              },
              {
                "type": "SYMBOL",
                "name": "header"
              }
            ]
          }
        ]
      }
    },
    "header": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "headertype"
        },
        {
          "type": "STRING",
          "value": ":"
        },
        {
          "type": "SYMBOL",
          "name": "headerentry"
        }
      ]
    },
    "addressheader": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "addrkind"
        },
        {
          "type": "STRING",
          "value": ":"
        },
        {
          "type": "SYMBOL",
          "name": "addresslist"
        }
      ]
    },
    "dateheader": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "date"
        },
        {
          "type": "STRING",
          "value": ":"
        },
        {
          "type": "SYMBOL",
          "name": "_datefield"
        }
      ]
    },
    "subjectheader": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "subject"
        },
        {
          "type": "STRING",
          "value": ":"
        },
        {
          "type": "SYMBOL",
          "name": "_subjectfield"
        }
      ]
    },
    "midheader": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "message_id"
        },
        {
          "type": "STRING",
          "value": ":"
        },
        {
          "type": "SYMBOL",
          "name": "mid"
        }
      ]
    },
    "addrkind": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "to"
        },
        {
          "type": "SYMBOL",
          "name": "from"
        },
        {
          "type": "SYMBOL",
          "name": "cc"
        },
        {
          "type": "SYMBOL",
          "name": "bcc"
        },
        {
          "type": "SYMBOL",
          "name": "sender"
        },
        {
          "type": "SYMBOL",
          "name": "replyto"
        }
      ]
    },
    "to": {
      "type": "ALIAS",
      "content": {
        "type": "TOKEN",
        "content": {
          "type": "PREC",
          "value": 2,
          "content": {
            "type": "PATTERN",
            "value": "[tT][oO]"
          }
        }
      },
      "named": false,
      "value": "to"
    },
    "from": {
      "type": "ALIAS",
      "content": {
        "type": "TOKEN",
        "content": {
          "type": "PREC",
          "value": 2,
          "content": {
            "type": "PATTERN",
            "value": "[fF][rR][oO][mM]"
          }
        }
      },
      "named": false,
      "value": "from"
    },
    "cc": {
      "type": "ALIAS",
      "content": {
        "type": "TOKEN",
        "content": {
          "type": "PREC",
          "value": 2,
          "content": {
            "type": "PATTERN",
            "value": "[cC][cC]"
          }
        }
      },
      "named": false,
      "value": "cc"
    },
    "bcc": {
      "type": "ALIAS",
      "content": {
        "type": "TOKEN",
        "content": {
          "type": "PREC",
          "value": 2,
          "content": {
            "type": "PATTERN",
            "value": "[bB][cC][cC]"
          }
        }
      },
      "named": false,
      "value": "bcc"
    },
    "sender": {
      "type": "ALIAS",
      "content": {
        "type": "TOKEN",
        "content": {
          "type": "PREC",
          "value": 2,
          "content": {
            "type": "PATTERN",
            "value": "[sS][eE][nN][dD][eE][rR]"
          }
        }
      },
      "named": false,
      "value": "sender"
    },
    "replyto": {
      "type": "ALIAS",
      "content": {
        "type": "TOKEN",
        "content": {
          "type": "PREC",
          "value": 2,
          "content": {
            "type": "PATTERN",
            "value": "[rR][eE][pP][lL][yY][--][tT][oO]"
          }
        }
      },
      "named": false,
      "value": "reply-to"
    },
    "date": {
      "type": "ALIAS",
      "content": {
        "type": "TOKEN",
        "content": {
          "type": "PREC",
          "value": 2,
          "content": {
            "type": "PATTERN",
            "value": "[dD][aA][tT][eE]"
          }
        }
      },
      "named": false,
      "value": "date"
    },
    "subject": {
      "type": "ALIAS",
      "content": {
        "type": "TOKEN",
        "content": {
          "type": "PREC",
          "value": 2,
          "content": {
            "type": "PATTERN",
            "value": "[sS][uU][bB][jJ][eE][cC][tT]"
          }
        }
      },
      "named": false,
      "value": "subject"
    },
    "message_id": {
      "type": "ALIAS",
      "content": {
        "type": "TOKEN",
        "content": {
          "type": "PREC",
          "value": 2,
          "content": {
            "type": "PATTERN",
            "value": "[mM][eE][sS][sS][aA][gG][eE][--][iI][dD]"
          }
        }
      },
      "named": false,
      "value": "message-id"
    },
    "mid": {
      "type": "ALIAS",
      "content": {
        "type": "SYMBOL",
        "name": "_fieldbody"
      },
      "named": true,
      "value": "midfield"
    },
    "_subjectfield": {
      "type": "ALIAS",
      "content": {
        "type": "SYMBOL",
        "name": "_fieldbody"
      },
      "named": true,
      "value": "subjectfield"
    },
    "_datefield": {
      "type": "ALIAS",
      "content": {
        "type": "SYMBOL",
        "name": "_fieldbody"
      },
      "named": true,
      "value": "datefield"
    },
    "headertype": {
      "type": "PATTERN",
      "value": "[^:\\t\\n]+"
    },
    "headerentry": {
      "type": "SYMBOL",
      "name": "_fieldbody"
    },
    "_fieldbody": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_bodycontent"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "SYMBOL",
                "name": "seperator"
              },
              {
                "type": "SYMBOL",
                "name": "_bodycontent"
              }
            ]
          }
        },
        {
          "type": "SYMBOL",
          "name": "_line_break"
        }
      ]
    },
    "seperator": {
      "type": "REPEAT1",
      "content": {
        "type": "CHOICE",
        "members": [
          {
            "type": "SYMBOL",
            "name": "_lwsp"
          },
          {
            "type": "SEQ",
            "members": [
              {
                "type": "SYMBOL",
                "name": "_line_break"
              },
              {
                "type": "SYMBOL",
                "name": "_lwsp"
              }
            ]
          }
        ]
      }
    },
    "lwspp": {
      "type": "PATTERN",
      "value": "[ \\t]"
    },
    "_bodycontent": {
      "type": "PATTERN",
      "value": "[^\\n]+"
    },
    "addresslist": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "internetaddress"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "CHOICE",
                "members": [
                  {
                    "type": "SYMBOL",
                    "name": "seperator"
                  },
                  {
                    "type": "BLANK"
                  }
                ]
              },
              {
                "type": "STRING",
                "value": ","
              },
              {
                "type": "SYMBOL",
                "name": "internetaddress"
              }
            ]
          }
        },
        {
          "type": "SYMBOL",
          "name": "_line_break"
        }
      ]
    },
    "internetaddress": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "mailbox"
        }
      ]
    },
    "mailbox": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_addrspec"
        },
        {
          "type": "SEQ",
          "members": [
            {
              "type": "SYMBOL",
              "name": "name"
            },
            {
              "type": "SYMBOL",
              "name": "_routeaddr"
            }
          ]
        }
      ]
    },
    "_routeaddr": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "<"
        },
        {
          "type": "SYMBOL",
          "name": "_addrspec"
        },
        {
          "type": "STRING",
          "value": ">"
        }
      ]
    },
    "_addrspec": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "local"
        },
        {
          "type": "STRING",
          "value": "@"
        },
        {
          "type": "SYMBOL",
          "name": "domain"
        }
      ]
    },
    "domain": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_word"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": "."
              },
              {
                "type": "SYMBOL",
                "name": "_word"
              }
            ]
          }
        }
      ]
    },
    "local": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_word"
        },
        {
          "type": "REPEAT",
          "content": {
            "type": "SEQ",
            "members": [
              {
                "type": "STRING",
                "value": "."
              },
              {
                "type": "SYMBOL",
                "name": "_word"
              }
            ]
          }
        }
      ]
    },
    "name": {
      "type": "REPEAT1",
      "content": {
        "type": "SYMBOL",
        "name": "_word"
      }
    },
    "_word": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_atom"
        },
        {
          "type": "SYMBOL",
          "name": "quotedstring"
        }
      ]
    },
    "_specails": {
      "type": "PATTERN",
      "value": "[<>,;:\\\\@\\\".\\[\\]]"
    },
    "_atom": {
      "type": "PATTERN",
      "value": "[^. <>,;:\\\\@\\\".\\[\\]\\n]+"
    },
    "quotedstring": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "\""
        },
        {
          "type": "PATTERN",
          "value": "[^\\\"]*"
        },
        {
          "type": "STRING",
          "value": "\""
        }
      ]
    },
    "emailbody": {
      "type": "REPEAT1",
      "content": {
        "type": "CHOICE",
        "members": [
          {
            "type": "SYMBOL",
            "name": "_quoted"
          },
          {
            "type": "SYMBOL",
            "name": "textline"
          }
        ]
      }
    },
    "textblock": {
      "type": "PATTERN",
      "value": "[ \\t]*[^>].*"
    },
    "textline": {
      "type": "TOKEN",
      "content": {
        "type": "PREC",
        "value": -2,
        "content": {
          "type": "PATTERN",
          "value": ".*"
        }
      }
    },
    "_textblock": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_textline"
        },
        {
          "type": "SYMBOL",
          "name": "_textblock"
        }
      ]
    },
    "_textline": {
      "type": "PATTERN",
      "value": ".+"
    },
    "_text": {
      "type": "PATTERN",
      "value": ".+"
    },
    "_quote": {
      "type": "TOKEN",
      "content": {
        "type": "PREC",
        "value": 2,
        "content": {
          "type": "PATTERN",
          "value": "[ \\t]*>"
        }
      }
    },
    "text": {
      "type": "PATTERN",
      "value": ".*"
    },
    "quote1": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_text"
        }
      ]
    },
    "quote2": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_text"
        }
      ]
    },
    "quote3": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_text"
        }
      ]
    },
    "quote4": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_text"
        }
      ]
    },
    "quote5": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_text"
        }
      ]
    },
    "quote6": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_quote"
        },
        {
          "type": "SYMBOL",
          "name": "_text"
        }
      ]
    },
    "_quoted": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "quote1"
        },
        {
          "type": "SYMBOL",
          "name": "quote2"
        },
        {
          "type": "SYMBOL",
          "name": "quote3"
        },
        {
          "type": "SYMBOL",
          "name": "quote4"
        },
        {
          "type": "SYMBOL",
          "name": "quote5"
        },
        {
          "type": "SYMBOL",
          "name": "quote6"
        }
      ]
    },
    "footer": {
      "type": "SEQ",
      "members": [
        {
          "type": "SYMBOL",
          "name": "footersep"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "footertext"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "footersep": {
      "type": "STRING",
      "value": "-- \n"
    },
    "footertext": {
      "type": "REPEAT1",
      "content": {
        "type": "SYMBOL",
        "name": "footerline"
      }
    },
    "footerline": {
      "type": "PATTERN",
      "value": ".+"
    }
  },
  "extras": [
    {
      "type": "PATTERN",
      "value": "\\s"
    }
  ],
  "conflicts": [],
  "precedences": [],
  "externals": [
    {
      "type": "SYMBOL",
      "name": "_line_break"
    },
    {
      "type": "SYMBOL",
      "name": "_lwsp"
    }
  ],
  "inline": [],
  "supertypes": []
}

